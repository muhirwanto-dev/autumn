@page "/"
@using Autumn.Wasm.ViewModel
@using Blazing.Mvvm.Components

@inherits MvvmComponentBase<HomeViewModel>

<PageTitle>Home</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large">
    <MudStack AlignItems="AlignItems.Center">
        <MudText Typo="Typo.h3" Class="fw-bold mt-5" Align="Align.Center" Color="Color.Primary">Hi! I'm @(ViewModel!.Profile?.NickName ?? ViewModel!.Profile?.FirstName), nice to meet you!</MudText>
        <MudText Style="margin-left: 150px; margin-right: 150px;" Typo="Typo.h6" Align="Align.Center">@ViewModel!.Profile?.TagLine</MudText>
        <MudImage Src="images/home_banner.png" Alt=".NET Developer banner" Height="360" Class="rounded-lg mx-4 mt-4" />
    </MudStack>
</MudContainer>

@if (ViewModel!.Profile?.AboutMe is string aboutMe)
{
    <MudContainer Class="mud-theme-primary w-100" Style="padding: 120px; padding-bottom: 250px;">
        <MudText Align="Align.Center" Typo="Typo.h4" Class="fw-bold my-5 text-white">Who am I?</MudText>
        <MudText Align="Align.Center" Class="text-white">@aboutMe</MudText>
    </MudContainer>
}

<MudContainer MaxWidth="MaxWidth.Large" Style="margin-top: -100px;" Class="d-flex gap-3">
    @foreach (var role in ViewModel!.Profile?.Roles ?? [])
    {
        <MudCard Class="flex-grow-1 col" Style="padding-top: 50px; padding-bottom: 50px; padding-left: 20px; padding-right: 20px;">
            <MudCardContent>
                <MudStack AlignItems="AlignItems.Center">
                    <MudImage Src="@role.Image" Height="96" Width="96" Class="rounded-circle p-3" Style="background-color: plum;" />
                    <MudText Typo="Typo.h6" Class="fw-bold" Align="Align.Center">@role.RoleName</MudText>
                    <MudText Typo="Typo.body1" Align="Align.Center">@role.RoleDescription</MudText>

                    <MudStack Row="true" Justify="Justify.FlexStart" Wrap="Wrap.Wrap" Spacing="0">
                        @foreach (var tech in role.TechStack)
                        {
                            <MudChip T="string">@tech</MudChip>
                        }
                    </MudStack>
                </MudStack>
            </MudCardContent>
        </MudCard>
    }
</MudContainer>

<MudContainer>
    <MudStack AlignItems="AlignItems.Center" Style="margin-top: 100px;">
        <MudText Align="Align.Center" Typo="Typo.h4" Class="fw-bold my-5">My Recent Work</MudText>
        <MudText Align="Align.Center">
            Here are a few past projects I've worked on. Want to see more?
            <MudLink Href="#">Email me!</MudLink>
        </MudText>

        <MudGrid>

        </MudGrid>
    </MudStack>
</MudContainer>

<MudScrollToTop>
    <MudFab Color="Color.Tertiary" StartIcon="@Icons.Material.Filled.ArrowUpward" />
</MudScrollToTop>
